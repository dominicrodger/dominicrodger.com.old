<!DOCTYPE html>
<html lang="en">
<head>
        <title>Moving to Ubuntu for mobile development</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="./theme/css/main.css" type="text/css" />
        <link href="http://dominicrodger.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="dominicrodger.com Atom Feed" />
        

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="./css/ie.css"/>
                <script src="./js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="./css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">

<a href="https://github.com/dominicrodger/dominicrodger.com">

<img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />

</a>

        <header id="banner" class="body">
                <h1><a href=".">dominicrodger.com </a></h1>
                <nav><ul>
                
                
                
                    <li><a href="./pages/about-me.html">about me</a></li>
                
                
                
                    <li class="active"><a href="./category/code.html">code</a></li>
                
                </ul></nav>
        </header><!-- /#banner -->
                
<section id="content" class="body">    
<article>
        <header> <h1 class="entry-title"><a href=""
        rel="bookmark" title="Permalink to Moving to Ubuntu for mobile development">Moving to Ubuntu for mobile development</a></h1> 
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="dominicrodger">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
 </header>
        <div class="entry-content">
        <footer class="post-info">
        <abbr class="published" title="2012-07-09T17:46:00">
                Monday 09 July 2012
        </abbr>

        
        <address class="vcard author">
                By <a class="url fn" href="./author/dominic-rodger.html">Dominic Rodger</a>
        </address>
        
<p>In <a href="./category/code.html">code</a>. </p>



</footer><!-- /.post-info -->
        <h1>My mobile office</h1>
<p>My web-development office is a fast-moving place.</p>
<p>It averages around 50 miles per hour<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>, and I work on a laptop
normally squished between two people on the train to and from the
office.</p>
<p>When I happen to have a spare moment to build websites at home, I tend
to use my desktop, which is running Ubuntu. I do my editing in emacs,
where I've gradually got things set up more or less as I like them.</p>
<p>On my laptop that I've been using on the train, I'm working in
Notepad++, because I've never got around to installing emacs on
Windows.</p>
<h1>Hurrah for tiny laptops</h1>
<p>I've recently (re-)acquired an Asus Aspire One. It's a pretty cheap
computer that I bought about 3 years ago. I gradually stopped using
it, as it tended to be too slow to do much with (it came with Windows
Vista, which may not have helped).</p>
<p>It's really quite a lot better as a portable laptop than the rather
heavy Dell I was using - mostly because it's light, it's narrower
(which is good for the fairly small seats on the train), and its
battery lasts for approximately a millenium.</p>
<p>Having got used to (and grown rather fond of) Ubuntu on my desktop, I
thought it was worth a go trying it on my Aspire One. It's taken me
several hours (most of which was spent watching progress bars and a
<a href="http://www.bbc.co.uk/sport/0/tennis/18755331" title="Roger Federer beat Andy Murray in 4 sets">tragically inevitable Wimbledon final</a>), so I thought
I'd write up how I got it working, partly in case I ever need to do it
again.</p>
<h1>Pain</h1>
<p>First, I tried downloading the latest release of Ubuntu (12.04),
dumping it on a USB stick, and booting from that. I quickly got into
Ubuntu, only to get an <code>io-remap</code> error, at which point the bottom of
the screen went black, and the top half of the screen tried to display
both halves simultaneously. I went through the installation process
anyway<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup>, hoping the problem would go away. It didn't.</p>
<p>Next, I thought I'd try Linux Mint. Same thing, no dice.</p>
<p>Next, I did some reading, and discovered that I'd bumped into a known
issue, which may or may not be fixed in the latest pre-release of
Ubuntu (12.10). I downloaded that. Also no dice.</p>
<p>Next, I read some workarounds for Ubuntu 12.04, so I re-installed and
tried those. Still no dice.</p>
<p>I tried Linux Mint again, tweaking some display options. Still no luck.</p>
<p>Then, I tried Ubuntu 12.04 again, and discovered that if I hit quit
when asked whether I wanted to install Ubuntu 12.04, the screen would
redraw, and everything looked fine. I installed, went to restart, and
was presented with a pitch black screen.</p>
<p>I discovered then that Ctrl-Alt-F1 got me a terminal<sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup>, but that
wasn't going to help me build websites. I installed some things just
for fun.</p>
<p>Googling around brought me to <a href="http://askubuntu.com/a/130847" title="Ask Ubuntu - fixing the black screen problem">this answer</a>, which told me
to type the magic incantation at the prompt:</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="n">service</span> <span class="n">lightdm</span> <span class="n">restart</span>
</pre></div>


<p>A <a href="http://blog.bodhizazen.net/linux/ubuntu-12-04-gma500-poulsbo-boot-options/" title="The blog post that got me fixed">blog post</a> linked from that answer told me to edit
<code>/etc/default/grub</code> and add this line (in place of the previous
setting of <code>GRUB_CMDLINE_LINUX_DEFAULT</code>):</p>
<div class="codehilite"><pre><span class="n">GRUB_CMDLINE_LINUX_DEFAULT</span><span class="p">=</span>&quot;<span class="n">quiet</span> <span class="n">console</span><span class="p">=</span><span class="n">tty1</span> <span class="n">acpi_backlight</span><span class="p">=</span><span class="n">vendor</span><span class="o">\</span>
<span class="n">acpi_osi</span><span class="p">=</span><span class="n">Linux</span> <span class="n">acer_wmi</span><span class="p">.</span><span class="n">blacklist</span><span class="p">=</span><span class="n">yes</span> <span class="n">mem</span><span class="p">=</span>1920<span class="n">mb</span>&quot;
</pre></div>


<p>Once I'd done that, it all worked.</p>
<p>Not for the first time, I had a feeling that I didn't really know what
I was doing (though I am of course very happy to be using my vendor's
acpi_backlight, I hope he doesn't mind).</p>
<p>Admittedly my laptop's a little old (I think it came out three
years ago or so), but that was a serious amount of pain just to get
things working. Now I've got things working, it's great, but I can't
help wondering how many people would have been sufficiently stubborn
to get this far. I had a similarly painful experience upgrading my
Desktop from Ubuntu 11 to Ubuntu 12, so maybe I've just got really,
really bad luck.</p>
<h1>Good Things</h1>
<p>All this means that the editing environment I use on my laptop is now
identical to the one I use on my desktop. I've synced my emacs
configurations with Dropbox, and logged in to Google Chrome so my
bookmarks are synced. I now get to work in a development environment
where I can use <a href="http://www.doughellmann.com/projects/virtualenvwrapper/" title="virtualenvwrapper - for, erm, wrapping your virtualenvs">virtualenvwrapper</a> and where most
things are pip-installable. Even better, I didn't have to spend a load
of money on a Macbook Air, and I get to retain my free-software
smugness.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>As far as speed goes at least. Its average velocity, my A-level
  physics teacher would probably wish me to point out, is roughly
  0 miles per hour.&#160;<a href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>The top half of the screen would redraw to display whatever your
  mouse was on, which made progress a challenge, but not impossible.&#160;<a href="#fnref:2" rev="footnote" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p>A couple of people seemed surprised that I didn't know that - I
  guess it's the sort of thing you learn once and then just
  assume.&#160;<a href="#fnref:3" rev="footnote" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
</ol>
</div>
        </div><!-- /.entry-content -->
        

</article>
</section>

        <section id="extras" class="body">
        
        
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://dominicrodger.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>
                            

                        
                            <li><a href="http://twitter.com/dominicrodger">Twitter</a></li>
                        
                            <li><a href="http://github.com/dominicrodger">GitHub</a></li>
                        
                            <li><a href="http://stackoverflow.com/users/20972/dominic-rodger">Stack Overflow</a></li>
                        
                        </ul>
                </div><!-- /.social -->
        
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://pelican.notmyidea.org/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                Site hosted by <a href="http://www.webfaction.com?affiliate=dominicrodger" title="Get hosted by WebFaction">WebFaction</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-11204085-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>



</body>
</html>